# 괄호

## 문제

괄호 문자열(Parenthesis String, PS)은 두 개의 괄호 기호인 ‘(’ 와 ‘)’ 만으로 구성되어 있는 문자열이다. 그 중에서 괄호의 모양이 바르게 구성된 문자열을 올바른 괄호 문자열(Valid PS, VPS)이라고 부른다. 한 쌍의 괄호 기호로 된 “( )” 문자열은 기본 VPS 이라고 부른다. 만일 x 가 VPS 라면 이것을 하나의 괄호에 넣은 새로운 문자열 “(x)”도 VPS 가 된다. 그리고 두 VPS x 와 y를 접합(concatenation)시킨 새로운 문자열 xy도 VPS 가 된다. 예를 들어 “(())()”와 “((()))” 는 VPS 이지만 “(()(”, “(())()))” , 그리고 “(()” 는 모두 VPS 가 아닌 문자열이다. 

여러분은 입력으로 주어진 괄호 문자열이 VPS 인지 아닌지를 판단해서 그 결과를 YES 와 NO 로 나타내어야 한다. 

---

## 입력

입력 데이터는 표준 입력을 사용한다. 입력은 T개의 테스트 데이터로 주어진다. 입력의 첫 번째 줄에는 입력 데이터의 수를 나타내는 정수 T가 주어진다. 각 테스트 데이터의 첫째 줄에는 괄호 문자열이 한 줄에 주어진다. 하나의 괄호 문자열의 길이는 2 이상 50 이하이다. 

---

## 출력

출력은 표준 출력을 사용한다. 만일 입력 괄호 문자열이 올바른 괄호 문자열(VPS)이면 “YES”, 아니면 “NO”를 한 줄에 하나씩 차례대로 출력해야 한다. 

---

```text
예제 입력
6
(())())
(((()())()
(()())((()))
((()()(()))(((())))()
()()()()(()()())()
(()((())()(

예제 출력
NO
NO
YES
NO
YES
NO
```

---

### 내가 이해한 괄호 정리

1. 괄호의 시작은 '(' 이다.
2. 괄호 문자열의 개수가 홀수개이면 이미 Vps 탈락이다.
3. '(' 와 ')' 의 개수가 같아야한다.
   - 개수만 같으면 '))((' 와 같은 문자열을 걸러낼 수 없다.
   - 짝이 맞아야 되기때문에 시작을 알리는 '(' 과 ')' 의 짝을 잘 맞춰야한다.

---

## 코드

[ **1차시도** ]

```python
#연습코드1 --> 실패
T = int(input())
Vps_list = []
i = 1
while i <= T:
    Vps_list.append(str(input()))
    i += 1

b = ['(',')']
for j in Vps_list:
    if j.count(b[0]) == j.count(b[1]):
        print('YES')
    else : print('NO')
```

**1차시도 후기 : 처음에 [내가이해한괄호정리] 3번과 같이 생각했다. '('와')'의 개수만 맞으면 된다고. 어김없이 틀렸습니다를 보았다. 덕분에 혼자 개수가 맞지만 실패하는 케이스를 생각하게 되었다.**

---

[ **2차시도** ]

```python
#연습코드2 --> 실패
T = int(input())
Vps_list = []
i = 1
while i <= T:
    Vps_list.append(str(input()))
    i += 1

for Vps in Vps_list:
    if len(Vps) % 2 :
        print('NO')
    else:
        stack_list = []
        for j in Vps:
            if j == '(':
                stack_list.append(j)
            elif j == ')':
                if len(stack_list) > 0 :
                    stack_list.pop()
                else : 
                    print('NO')
        if len(stack_list) != 0 :
            print('NO')
        else : print('YES')
```

**2차시도 후기 : 처음부터 괄호 문자열의 길이가 홀수이면 Vps가 될 수 없다는 조건을 주고 else로 다른 경우를 생각해 나갔다. '('가 들어오면 append하고 ')'가 들어오면 괄호 한쌍이 생성 된것으로 보고 pop시켜주었다. 이때 stack_list에 길이가 0 즉, 빈 리스트인데 ')'가 입력되는 경우 Vps 실패이므로 조건을 하나 만들어 넣었다. 또 마지막으로 혹시 for문은 다 돌았지만 '('가 남아있는 경우 실패했다고 알려주기 위한 조건도 하나 넣었다. 그 결과 처음 예제입력은 정상적으로 나왔으나 두번째 입력예제의 경우 빈리스트인 경우를 잘 인식하지 못하는 문제가 발생했다. **

[ **3차시도** ]

```python
T = int(input())

# 입력된 괄호문자열을 저장한다.
# Vps_list : 입력예제가 저장된 리스트
Vps_list = []
i = 1
while i <= T:
    Vps_list.append(str(input()))
    i += 1

# Vps : Vps 여부를 확인하고자 하는 문자열
for Vps in Vps_list:
    stack_list = []
    cnt = 0 
    # 문자열에서 각각 하나씩불러온다.
    for j in Vps:
        # 이때 괄호의 시작은 항상 '(' 이므로 j가 '(' 이면 stack_list에 넣어둔다.
        if j == '(':
            stack_list.append(j)
        else :
            # 만약 stack_list가 빈 리스트라면 해당 for문을 break 한다.
            if not stack_list :
                break
            # 빈 리스트가 아니라면 리스트에서 가장 뒤에 값을 지워준다.
            else :
                stack_list.pop()
        # 카운트를 세주는 이유 : break에 걸리지 않고 문자열이 끝까지 확인되었나 비교하기 위해서이다.
        cnt += 1

    # stack_list가 빈리스트이고 cnt와 Vps의길이가 같다면 해당 문자열은 성공이다.
    if not stack_list and cnt == len(Vps):
        print('YES')
    # 위 조건을 통과하지 못한 경우는 Vps가 될 수 없다.
    else:
        print('NO')
```

**3차시도 후기 : 코드 설명은 주석으로 해두었지만, 반복되는 수를 새는 것이 내가 생각하는 내 코드의 핵심이다. 꼼수 부리려고 처음부터 코드짜면 길이만 길어진다. 그럴땐 그냥 단순하게 생각하고 코드를 작성하는 것이 더 나은 방법 같다.**
